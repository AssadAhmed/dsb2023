<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="YOUR NAME HERE">
<meta name="dcterms.date" content="2023-05-21">

<title>Homerwork 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="homework2_files/libs/clipboard/clipboard.min.js"></script>
<script src="homework2_files/libs/quarto-html/quarto.js"></script>
<script src="homework2_files/libs/quarto-html/popper.min.js"></script>
<script src="homework2_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="homework2_files/libs/quarto-html/anchor.min.js"></script>
<link href="homework2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="homework2_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="homework2_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="homework2_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="homework2_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#data-visualisation---exploration" id="toc-data-visualisation---exploration" class="nav-link active" data-scroll-target="#data-visualisation---exploration">Data Visualisation - Exploration</a>
  <ul class="collapse">
  <li><a href="#mass-shootings-in-the-us" id="toc-mass-shootings-in-the-us" class="nav-link" data-scroll-target="#mass-shootings-in-the-us">Mass shootings in the US</a>
  <ul class="collapse">
  <li><a href="#obtain-the-data" id="toc-obtain-the-data" class="nav-link" data-scroll-target="#obtain-the-data">Obtain the data</a></li>
  <li><a href="#explore-the-data" id="toc-explore-the-data" class="nav-link" data-scroll-target="#explore-the-data">Explore the data</a></li>
  <li><a href="#specific-questions" id="toc-specific-questions" class="nav-link" data-scroll-target="#specific-questions">Specific questions</a></li>
  <li><a href="#more-open-ended-questions" id="toc-more-open-ended-questions" class="nav-link" data-scroll-target="#more-open-ended-questions">More open-ended questions</a></li>
  <li><a href="#very-open-ended" id="toc-very-open-ended" class="nav-link" data-scroll-target="#very-open-ended">Very open-ended</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#details" id="toc-details" class="nav-link" data-scroll-target="#details">Details</a></li>
  <li><a href="#rubric" id="toc-rubric" class="nav-link" data-scroll-target="#rubric">Rubric</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Homerwork 2</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>YOUR NAME HERE </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 21, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">

</div>
<section id="data-visualisation---exploration" class="level1">
<h1>Data Visualisation - Exploration</h1>
<p>Now that you’ve demonstrated your software is setup, and you have the basics of data manipulation, the goal of this assignment is to practice transforming, visualising, and exploring data.</p>
<section id="mass-shootings-in-the-us" class="level2">
<h2 class="anchored" data-anchor-id="mass-shootings-in-the-us">Mass shootings in the US</h2>
<p>In July 2012, in the aftermath of a mass shooting in a movie theater in Aurora, Colorado, <a href="https://www.motherjones.com/politics/2012/07/mass-shootings-map/">Mother Jones</a> published a report on mass shootings in the United States since 1982. Importantly, they provided the underlying data set as <a href="https://www.motherjones.com/politics/2012/12/mass-shootings-mother-jones-full-data/">an open-source database</a> for anyone interested in studying and understanding this criminal behavior.</p>
<section id="obtain-the-data" class="level3">
<h3 class="anchored" data-anchor-id="obtain-the-data">Obtain the data</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>mass_shootings <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"mass_shootings.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 125 Columns: 14
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (7): case, month, location, summary, location_type, race, prior_mental_i...
dbl (6): year, day, fatalities, injured, total_victims, age_of_shooter
lgl (1): male

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(mass_shootings)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 125
Columns: 14
$ case                 &lt;chr&gt; "Oxford High School shooting", "San Jose VTA shoo…
$ year                 &lt;dbl&gt; 2021, 2021, 2021, 2021, 2021, 2021, 2020, 2020, 2…
$ month                &lt;chr&gt; "Nov", "May", "Apr", "Mar", "Mar", "Mar", "Mar", …
$ day                  &lt;dbl&gt; 30, 26, 15, 31, 22, 16, 16, 26, 10, 6, 31, 4, 3, …
$ location             &lt;chr&gt; "Oxford, Michigan", "San Jose, California", "Indi…
$ summary              &lt;chr&gt; "Ethan Crumbley, a 15-year-old student at Oxford …
$ fatalities           &lt;dbl&gt; 4, 9, 8, 4, 10, 8, 4, 5, 4, 3, 7, 9, 22, 3, 12, 5…
$ injured              &lt;dbl&gt; 7, 0, 7, 1, 0, 1, 0, 0, 3, 8, 25, 27, 26, 12, 4, …
$ total_victims        &lt;dbl&gt; 11, 9, 15, 5, 10, 9, 4, 5, 7, 11, 32, 36, 48, 15,…
$ location_type        &lt;chr&gt; "School", "Workplace", "Workplace", "Workplace", …
$ male                 &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, T…
$ age_of_shooter       &lt;dbl&gt; 15, 57, 19, NA, 21, 21, 31, 51, NA, NA, 36, 24, 2…
$ race                 &lt;chr&gt; NA, NA, "White", NA, NA, "White", NA, "Black", "B…
$ prior_mental_illness &lt;chr&gt; NA, "Yes", "Yes", NA, "Yes", NA, NA, NA, NA, NA, …</code></pre>
</div>
</div>
<table class="table">
<colgroup>
<col style="width: 30%">
<col style="width: 69%">
</colgroup>
<thead>
<tr class="header">
<th>column(variable)</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>case</td>
<td>short name of incident</td>
</tr>
<tr class="even">
<td>year, month, day</td>
<td>year, month, day in which the shooting occurred</td>
</tr>
<tr class="odd">
<td>location</td>
<td>city and state where the shooting occcurred</td>
</tr>
<tr class="even">
<td>summary</td>
<td>brief description of the incident</td>
</tr>
<tr class="odd">
<td>fatalities</td>
<td>Number of fatalities in the incident, excluding the shooter</td>
</tr>
<tr class="even">
<td>injured</td>
<td>Number of injured, non-fatal victims in the incident, excluding the shooter</td>
</tr>
<tr class="odd">
<td>total_victims</td>
<td>number of total victims in the incident, excluding the shooter</td>
</tr>
<tr class="even">
<td>location_type</td>
<td>generic location in which the shooting took place</td>
</tr>
<tr class="odd">
<td>male</td>
<td>logical value, indicating whether the shooter was male</td>
</tr>
<tr class="even">
<td>age_of_shooter</td>
<td>age of the shooter when the incident occured</td>
</tr>
<tr class="odd">
<td>race</td>
<td>race of the shooter</td>
</tr>
<tr class="even">
<td>prior_mental_illness</td>
<td>did the shooter show evidence of mental illness prior to the incident?</td>
</tr>
</tbody>
</table>
</section>
<section id="explore-the-data" class="level3">
<h3 class="anchored" data-anchor-id="explore-the-data">Explore the data</h3>
</section>
<section id="specific-questions" class="level3">
<h3 class="anchored" data-anchor-id="specific-questions">Specific questions</h3>
<ol type="1">
<li>Generate a data frame that summarizes the number of mass shootings per year.</li>
</ol>
<div class="cell">

</div>
<ol type="1">
<li>Generate a bar chart that identifies the number of mass shooters associated with each race category. The bars should be sorted from highest to lowest and each bar should show its number.</li>
</ol>
<div class="cell">

</div>
<ol type="1">
<li>Generate a boxplot visualizing the number of total victims, by type of location.</li>
</ol>
<div class="cell">

</div>
<ol type="1">
<li><p>Redraw the same plot, but remove the Las Vegas Strip massacre from the dataset.</p>
<div class="cell">

</div></li>
</ol>
</section>
<section id="more-open-ended-questions" class="level3">
<h3 class="anchored" data-anchor-id="more-open-ended-questions">More open-ended questions</h3>
<p>Address the following questions. Generate appropriate figures/tables to support your conclusions.</p>
<ol type="1">
<li>How many white males with prior signs of mental illness initiated a mass shooting after 2000?</li>
</ol>
<div class="cell">

</div>
<ol type="1">
<li>Which month of the year has the most mass shootings? Generate a bar chart sorted in chronological (natural) order (Jan-Feb-Mar- etc) to provide evidence of your answer.</li>
</ol>
<div class="cell">

</div>
<ol type="1">
<li>How does the distribution of mass shooting fatalities differ between White and Black shooters? What about White and Latino shooters?</li>
</ol>
<div class="cell">

</div>
</section>
<section id="very-open-ended" class="level3">
<h3 class="anchored" data-anchor-id="very-open-ended">Very open-ended</h3>
<ol type="1">
<li><p>Are mass shootings with shooters suffering from mental illness different from mass shootings with no signs of mental illness in the shooter?</p>
<div class="cell">

</div></li>
<li><p>Assess the relationship between mental illness and total victims, mental illness and location type, and the intersection of all three variables.</p></li>
</ol>
<div class="cell">

</div>
<p>Make sure to provide a couple of sentences of written interpretation of your tables/figures. Graphs and tables alone will not be sufficient to answer this question.</p>
<p>There is a lot of explanatory text, comments, etc. You do not need these, so delete them and produce a stand-alone document that you could share with someone. Knit the edited and completed Quarto Markdown (qmd) file as an HTML document (use the “Render” button at the top of the script editor window) and upload it to Canvas.</p>
</section>
</section>
</section>
<section id="details" class="level1">
<h1>Details</h1>
<ul>
<li>Who did you collaborate with: TYPE NAMES HERE</li>
<li>Approximately how much time did you spend on this problem set: ANSWER HERE</li>
<li>What, if anything, gave you the most trouble: ANSWER HERE</li>
</ul>
<p><strong>Please seek out help when you need it,</strong> and remember the <a href="https://mam2022.netlify.app/syllabus/#the-15-minute-rule" target="_blank">15-minute rule</a>. You know enough R (and have enough examples of code from class and your readings) to be able to do this. If you get stuck, ask for help from others, post a question on Slack– and remember that I am here to help too!</p>
<blockquote class="blockquote">
<p>As a true test to yourself, do you understand the code you submitted and are you able to explain it to someone else?</p>
</blockquote>
</section>
<section id="rubric" class="level1">
<h1>Rubric</h1>
<p>13/13: Problem set is 100% completed. Every question was attempted and answered, and most answers are correct. Code is well-documented (both self-documented and with additional comments as necessary). Used tidyverse, instead of base R. Graphs and tables are properly labelled. Analysis is clear and easy to follow, either because graphs are labeled clearly or you’ve written additional text to describe how you interpret the output. Work is exceptional. I will not assign these often.</p>
<p>8/13: Problem set is 60–80% complete and most answers are correct. This is the expected level of performance. Solid effort. Hits all the elements. No clear mistakes. Easy to follow (both the code and the output).</p>
<p>5/13: Problem set is less than 60% complete and/or most answers are incorrect. This indicates that you need to improve next time. I will hopefully not assign these often. Displays minimal effort. Doesn’t complete all components. Code is poorly written and not documented. Uses the same type of plot for each graph, or doesn’t use plots appropriate for the variables being analyzed.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>